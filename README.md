# Filesurf :surfing_man:

A simple binary webserver written in Go.
I just wanted to write a bare-bones application that serves a local directory for download, and allows upload of files to the server.
Kinda like a binary, stripped-down version of the `python -m http.server` or `updog`.

## Synopsis
```
$ ./filesurf -h

Usage of bin/filesurf:
  -b	Enable HTTP Basic Authentication.
  -cert string
    	Path to TLS certificate file. Necessary when not using certificate generated by filesurf.
  -d string
    	Base directory to serve. Will attempt creation, if it does not exist. (default "www")
  -key string
    	Path to TLS key file. Necessary when not using certificate generated by filesurf.
  -p string
    	Port to listen on. (default "8090")
  -pass string
    	HTTP Basic Auth password. Generated randomly if -b is set, but parameter not defined.
  -s	Enable HTTPS.
  -u string
    	Directory for uploads. Will attempt creation, if it does not exist. (default "uploads")
  -user string
    	HTTP Basic Auth user. Generated randomly if -b is set, but parameter not defined.
```

Example usage for uploading a file via HTTPS, with curl:

```
curl -X POST -k https://192.168.1.42/upload -F "content=@./myfile.txt"
```

Use the `-k` flag for "insecure" mode to accept the self-generated cert.

Alternatively, a minimalistic upload web UI is offered under `/upload-ui`

## Building

A ready to use binary can be found under **Releases**.

If you want to build it yourself, the easiest way is to use the Makefile.
- `make` -> build for your current architecture only
- `make all` -> build for all architectures
- `make <linux/darwin/windows>-<386/amd64/arm64>` -> build a specific version 

Otherwise, to build for your current architecture, you can also just use
```
go build filesurf.go
```

## What works
- Directory listing
- File download
- File upload via POST form
- HTTPS
- Self-generating HTTPS certificates
- HTTP Basic Auth
- Built-in upload web UI

## What is still missing
- some pretty-printing of directory listing for downloads
    - however, this would prolly require some more in-depth work
